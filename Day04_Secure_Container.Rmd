---
title: "Day04_Secure_Container_AOC_2019"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tictoc)
```

# Day 4: Secure Container

## Puzzle 1

You arrive at the Venus fuel depot only to discover it's protected by a password. The Elves had written the password on a sticky note, but someone threw it out.

However, they do remember a few key facts about the password:

- It is a six-digit number.
- The value is within the range given in your puzzle input.
- Two adjacent digits are the same (like `22` in `122345`).
- Going from left to right, the digits never decrease; they only ever increase or stay the same (like `111123` or `135679`).

Other than the range rule, the following are true:

`111111` meets these criteria (double 11, never decreases).
`223450` does not meet these criteria (decreasing pair of digits 50).
`123789` does not meet these criteria (no double).

How many different passwords within the range given in your puzzle input meet these criteria?

Your puzzle input is `108457-562041`

```{r}
input <- as.character(108457:562041)
```


```{r puzzle1}

tic()

# at least two adjacent digits are the same
input <- input[str_detect(input, "(\\d)\\1")]

# numbers can never decrease
index <- 
  map_lgl(.x = input, 
          .f = ~ str_split(.x, "")[[1]] %>% 
            parse_integer() %>% 
            {. >= lag(., default = 0L)} %>% 
            {all(. == TRUE)} )

answer1 <- input[index]

toc()

length(answer1)

```

`2779` unique possible passwords that match criteria.

## Puzzle 2